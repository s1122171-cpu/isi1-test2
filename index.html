<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŸ³ã®æ²ç¤ºæ¿</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
  </head>
  
  <body>
    <div class="wrapper">
      
      <!-- â‘  ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ† -->
      <header class="header">
        <p class="catchcopy">è¹´ã£ã¦ã‚‚ã€æŒã¡é‹ã‚“ã§ã‚‚â—¯</p>
        <h1 class="site-title">çŸ³ã®æ²ç¤ºæ¿</h1>
      </header>
      
      <!-- â‘¡ æ³¨æ„äº‹é …ï¼ˆä½œå“ã®ä¸€éƒ¨ã¨ã—ã¦è¡¨ç¤ºï¼‰ -->
      <section class="notice">
        <ul class="notice-list">
          <li>è»Šã‚„å‘¨ã‚Šã®äººã«æ³¨æ„ã—ã¦ãã ã•ã„</li>
          <li>è»Šé“ã«å‡ºãªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„</li>
          <li>ç‚¹å­—ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸Šã«ç½®ã‹ãªã„ã§ãã ã•ã„</li>
          <li>ä»–äººã®æ•·åœ°ã«ç½®ã‹ãªã„ã§ãã ã•ã„</li>
        </ul>
        <p class="notice-comment">
          â€»æœ¬ä½œå“ã«é–¢é€£ã—ã¦ç™ºç”Ÿã—ãŸäº‹æ•…ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ç­‰ã«ã¤ã„ã¦ã€ä¸€åˆ‡ã®è²¬ä»»ã¯è² ã„ã¾ã›ã‚“ã€‚
        </p>
      </section>
      
      <!-- â‘¢ åœ°å›³ã‚¹ãƒšãƒ¼ã‚¹ -->
      <section class="map">
        <h2 class="section-title">åœ°å›³</h2>
        <div class="map-frame">
          <!-- Google Map ã‚„ç”»åƒã‚’å¾Œã§æŒ¿å…¥äºˆå®š -->
          <p>ã“ã“ã«åœ°å›³ãŒå…¥ã‚Šã¾ã™</p>
        </div>
      </section>
      
      <!-- â‘£ çŸ³ã®è¨˜éŒ²ï¼ˆæŠ•ç¨¿ä¸€è¦§ï¼‰ -->
      <section class="records">
        <h2 class="section-title">çŸ³ã®è¨˜éŒ²</h2>
        <div class="record-list" id="postList">
          <!-- JSã§æŠ•ç¨¿ãŒã“ã“ã«è¿½åŠ ã•ã‚Œã‚‹ -->
        </div>
      </section>
      
      <!-- â‘¤ æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ  -->
      <section class="post">
        <h2 class="section-title">ã‚ãªãŸã®çŸ³ã‚’ç½®ã</h2>
        <form id="postForm" class="post-form">
          <div class="form-group">
            <label for="name">ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ </label>
            <input type="text" id="name" name="name" required>
          </div>
          
          <div class="form-group">
            <label for="message">ã²ã¨ã“ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</label>
            <textarea id="message" name="message" rows="3"></textarea>
          </div>
          
          <div class="form-group">
            <label for="image">ç”»åƒï¼ˆä»»æ„ï¼‰</label>
            <input type="file" id="image" name="image" accept="image/*">
          </div>
          
          <button type="submit" class="submit-button">çŸ³ã‚’ç½®ã ğŸª¨</button>
        </form>
      </section>
      
      <!-- â‘¥ ãƒ•ãƒƒã‚¿ãƒ¼ -->
      <footer class="footer">
        <p class="footer-text">ã“ã¡ã‚‰ã§é›†ã‚ãŸæƒ…å ±ã¯å¤§å­¦ã®åˆ¶ä½œã«ä½¿ã„ã¾ã™</p>
      </footer>
    </div>
    
    <!-- JSï¼ˆæŠ•ç¨¿ã®ä¿å­˜ãƒ»è¡¨ç¤ºç”¨ï¼‰ -->
    <script>
      const form = document.getElementById('postForm');
      const list = document.getElementById('postList');
      const posts = JSON.parse(localStorage.getItem('stones') || '[]');
          posts.forEach(addPostToList);
          
          form.addEventListener('submit', e => {
              e.preventDefault();
              const name = document.getElementById('name').value.trim();
              const message = document.getElementById('message').value.trim();
                const imageInput = document.getElementById('image');
                  const post = { name, message };
                  
                  if (imageInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = e => {
                      post.image = e.target.result;
                      saveAndRender(post);
                    };
                    reader.readAsDataURL(imageInput.files[0]);
                  } else {
                    saveAndRender(post);
                  }
                  form.reset();
              });
              
              function saveAndRender(post) {
                posts.unshift(post);
                localStorage.setItem('stones', JSON.stringify(posts));
                    addPostToList(post);
                  }
                  
                  function addPostToList(post) {
                    const div = document.createElement('div');
                    div.className = 'record-item';
                    div.innerHTML = `
                    <div class="record-name">${post.name || 'åç„¡ã—ã®çŸ³'}</div>
                    <div class="record-message">${post.message || ''}</div>
                    ${post.image ? <img src="${post.image}" class="record-image" alt="æŠ•ç¨¿ç”»åƒ"> : ''}
                      `;
                      list.prepend(div);
                    }
                  </script>
                  
                </body>
              </html>
